###1.自定义导航栏使用注意(https://uniapp.dcloud.io/collocation/pages?id=customnav)

当navigationStyle设为custom或titleNView设为false时，原生导航栏不显示，此时要注意几个问题：

- 非H5端，手机顶部状态栏区域会被页面内容覆盖。这是因为窗体是沉浸式的原因，即全屏可写内容。uni-app提供了状态栏高度的css变量[--status-bar-height](https://uniapp.dcloud.io/frame?id=css变量)，如果需要把状态栏的位置从前景部分让出来，可写一个占位div，高度设为css变量。

## 2.search() 方法用于检索字符串中指定的子字符串，或检索与正则表达式相匹配的子字符串。

+ 如果没有找到任何匹配的子串，则返回 -1

## 3.eval() 函数可计算某个字符串，并执行其中的的 JavaScript 代码

## 4.filter: blur(16px); 图片模糊程度 

## 5.[uni.createSelectorQuery()](https://uniapp.dcloud.io/api/ui/nodes-info?id=createselectorquery)

+ 返回一个 `SelectorQuery` 对象实例。可以在这个实例上使用 `select` 等方法选择节点，并使用 `boundingClientRect` 等方法选择需要查询的信息

+ 使用 `uni.createSelectorQuery()` 需要在生命周期 `mounted` 后进行调用。

+ 自定义组件编译模式（默认模式），需要使用到 `selectorQuery.in` 方法。

+ ## [SelectorQuery](https://uniapp.dcloud.io/api/ui/nodes-info?id=selectorquery)查询节点信息的对象

  + 将选择器的选取范围更改为自定义组件 `component` 内，返回一个 `SelectorQuery` 对象实例。（初始时，选择器仅选取页面范围的节点，不会选取任何自定义组件中的节点）

```js
const query = uni.createSelectorQuery().in(this);
query.select('#id').boundingClientRect(data => {
  console.log("得到布局位置信息" + JSON.stringify(data));
  console.log("节点离页面顶部的距离为" + data.top);
}).exec();
```

##  6.[picker](https://uniapp.dcloud.io/component/picker?id=picker)日期选择器

+ 从底部弹起的滚动选择器。支持五种选择器，通过mode来区分，分别是普通选择器，多列选择器，时间选择器，日期选择器，省市区选择器，默认是普通选择器

## 7.[scroll-view](https://uniapp.dcloud.io/component/scroll-view?id=scroll-view)

+ 可滚动视图区域。用于区域滚动。

+ 需注意在webview渲染的页面中，区域滚动的性能不及页面滚动。

## 8.[uni.previewImage(OBJECT)](https://uniapp.dcloud.io/api/media/image?id=unipreviewimageobject)预览图片

### 9.this.$nextTick()回调延迟到下次 DOM 更新循环之后执行

+ 将回调延迟到下次 DOM 更新循环之后执行。在修改数据之后立即使用它，然后等待 DOM 更新。它跟全局方法 Vue.nextTick 一样，不同的是回调的 this 自动绑定到调用它的实例上。

### 10.scroll-into-view 滚动到指定元素的位置

+ scroll-into-view 是 scroll-view 的一个属性，主要作用是用于滚动到指定元素的位置，其对应值是元素的id

+ scroll-into-view 的值必须是动态的，通过setData设置后，重新渲染才会有效。如果是静态的，如scroll-into-view="item2"，则无效
+ scroll-view 必须有固定的高度，如果设置高度为百分比的话，父容器一定要固定高度，否则无效。比如最顶层的 view 没有设置固定高度，然后在下面添加的 scroll-view 的高度就直接设置height:100%是无效的，此时可以设置为height:100vh代替
  

###11.[uni.chooseImage(OBJECT)](https://uniapp.dcloud.io/api/media/image?id=chooseimage)从相册选取图片

+ 从本地相册选择图片或使用相机拍照。

+ App端如需要更丰富的相机拍照API（如直接调用前置摄像头），参考[plus.camera](https://www.html5plus.org/doc/zh_cn/camera.html)

+ ```js
  uni.chooseImage({
      count: 6, //默认9
      sizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有
      sourceType: ['album'], //从相册选择
      success: function (res) {
          console.log(JSON.stringify(res.tempFilePaths));
      }
  });
  ```

  

### 12.[uni.getRecorderManager()](https://uniapp.dcloud.io/api/media/record-manager?id=getrecordermanager)录音

+ 获取**全局唯一**的录音管理器 `recorderManager`

+ 录音时网页端会提示错误，在手机端测试正常

  

<img src="C:\Users\33\Desktop\即刻通讯\前端\01\Snipaste_2020-07-15_01-09-50.jpg" alt="Snipaste_2020-07-15_01-09-50" style="zoom: 50%;" />

### 13.[uni.createInnerAudioContext()](https://uniapp.dcloud.io/api/media/audio-context?id=createinneraudiocontext)音频播放

+ 创建并返回内部 audio 上下文 `innerAudioContext` 对象

###14.map地图组件

+ 地图组件用于展示地图，而定位API只是获取坐标，请勿混淆两者。
+ 小程序和app-vue中，`<map>` 组件是由引擎创建的原生组件，它的层级是最高的，不能通过 z-index 控制层级。在`<map>`上绘制内容，可使用组件自带的marker、controls等属性，也可以使用`<cover-view>`组件。App端还可以使用plus.nativeObj.view 或 subNVue 绘制原生内容，[参考](https://uniapp.dcloud.io/component/native-component)。另外App端nvue文件不存在层级问题。从微信基础库2.8.3开始，支持map组件的同层渲染，不再有层级问题。

### 15.[uni.openLocation(OBJECT)](https://uniapp.dcloud.io/api/location/open-location?id=openlocation)

+ 使用应用内置地图查看位置

### 16.为了以后改服务器端口，在写一个指定的服务器变量

```js
//main.js
// 服务器地址
Vue.prototype.serverUrl = 'http://192.168.24.11:3000';
```



### 17.vue 中使用防抖和节流，防止重复点击或重复上拉加载

```js

/**
 * 函数防抖 (只执行最后一次点击)
 * @param fn
 * @param delay
 * @returns {Function}
 * @constructor
 */
export const Debounce = (fn, t) => {
    let delay = t || 500;
    let timer;
    console.log(fn)
    console.log(typeof fn)
    return function () {
        let args = arguments;
        if(timer){
            clearTimeout(timer);
        }
        timer = setTimeout(() => {
            timer = null;
            fn.apply(this, args);
        }, delay);
    }
};
 
 
/**
 * 函数节流
 * @param fn
 * @param interval
 * @returns {Function}
 * @constructor
 */
export const Throttle = (fn, t) => {
    let last;
    let timer;
    let interval = t || 500;
    return function () {
        let args = arguments;
        let now = +new Date();
        if (last && now - last < interval) {
            clearTimeout(timer);
            timer = setTimeout(() => {
                last = now;
                fn.apply(this, args);
            }, interval);
        } else {
            last = now;
            fn.apply(this, args);
        }
    }

```

### 18.[uni.showModal(OBJECT)](https://uniapp.dcloud.io/api/ui/prompt?id=showmodal)显示模态弹窗，类似于标准 html 的消息框：alert、confirm

```js
uni.showModal({
    title: '提示',
    content: '这是一个模态弹窗',
    success: function (res) {
        if (res.confirm) {
            console.log('用户点击确定');
        } else if (res.cancel) {
            console.log('用户点击取消');
        }
    }
});
```

###19.下拉刷新uni.stopPullDownRefresh()

```js
//uni.stopPullDownRefresh()
//停止当前页面下拉刷新。

//示例

//pages.json

{
    "pages": [
        {
            "path": "pages/index/index",
            "style": {
                "navigationBarTitleText": "uni-app",
                "enablePullDownRefresh": true//下拉刷新
            }
        }
    ],
    "globalStyle": {
        "navigationBarTextStyle": "white",
        "navigationBarBackgroundColor": "#0faeff",
        "backgroundColor": "#fbf9fe"
    }
}
```

```js
//刷新页面
 onLoad: function (options) {
        setTimeout(function () {
            console.log('start pulldown');
        }, 1000);
        uni.startPullDownRefresh();
    },
onPullDownRefresh() {
        console.log('refresh');
        setTimeout(function () {
            uni.stopPullDownRefresh();
        }, 1000);
    }
```

###20.